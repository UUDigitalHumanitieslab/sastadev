
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>iedims &#8212; SASTA  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SASTA  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">iedims</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for iedims</h1><div class="highlight"><pre>
<span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">The module *iedims* deals with diminutive forms ending in *-ie*. Alpino cannot deal with such diminutives,</span>
<span class="sd">but the function *getjeforms* finds for a given word ending in *-ie* what the corresponding diminutives ending in</span>
<span class="sd">*-je* are.</span>
<span class="sd">There can be many, e.g. *kassie* can correspond to *kasje* but also to *kastje*.</span>

<span class="sd">To our knowledge, there are no established orthographic rules for these forms. Therefore we should be robust to</span>
<span class="sd">several alternative ways of writing these forms, e.g.</span>

<span class="sd">* Kees: Keesie, Keessie, or Kesie?: all are accepted</span>
<span class="sd">* Huub: Huupie, Huuppie, or Hupie?: all are accepted</span>
<span class="sd">* wijf: wijfie, or wijffie?: we allow both</span>
<span class="sd">* feest: fesie, feesie, or feessie?: we require *feessie* or *feesie*</span>
<span class="sd">* dag: daggie, or dachie? : we require *daggie*</span>
<span class="sd">* truc: trucie, truuccie, truukkie, or  trukie?: we cannot deal with any at this moment</span>
<span class="sd">* maag: magie or maaggie, maachie?: we allow *magie* or *maaggie*</span>
<span class="sd">* vaas: vasie or vaassie?: both are allowed</span>


<span class="sd">The module has been tested against a gold reference of all words ending in ie(s) from OpenSonaR.</span>
<span class="sd">The module to use for a renewed test is tests.iedims_test.py, the file is tests.iediminutives.iedimsgold2.csv</span>

<span class="sd">.. autofunction:: iedims::getjeforms</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="kn">from</span> <span class="nn">typing</span> <span class="k">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="kn">import</span> <span class="nn">lexicon</span>

<span class="n">comma</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span>
<span class="n">semicolon</span> <span class="o">=</span> <span class="s1">&#39;;&#39;</span>
<span class="n">bigfilesep</span> <span class="o">=</span> <span class="n">semicolon</span>
<span class="n">slash</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span>
<span class="n">epsilon</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">vertbar</span> <span class="o">=</span> <span class="s1">&#39;|&#39;</span>


<span class="k">def</span> <span class="nf">bracket</span><span class="p">(</span><span class="nb">str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="nb">str</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;)&#39;</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">drop</span><span class="p">(</span><span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">chars</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    The function *drop* returns a string in which only those  characters of *pattern* are retained  if they do not</span>
<span class="sd">    occur in *chars*</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">lpattern</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pattern</span><span class="p">]</span>
    <span class="n">newlpattern</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">lpattern</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">chars</span><span class="p">]</span>
    <span class="n">newpattern</span> <span class="o">=</span> <span class="n">epsilon</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">newlpattern</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">newpattern</span>


<span class="k">def</span> <span class="nf">regexor</span><span class="p">(</span><span class="n">stringlist</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    The function *regexor* joins a list of strings by means of a vertical bar</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">vertbar</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">stringlist</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">makecic1j</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    The function *makecic1j* creates a string that is a regular expression in which any of the consonants from c1 (</span>
<span class="sd">    =pfksg) is preceded by an arbitrary distinct consonant.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">c1</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="s1">&#39;[]&#39;</span><span class="p">:</span>
            <span class="n">newpart1</span> <span class="o">=</span> <span class="n">drop</span><span class="p">(</span><span class="n">call</span><span class="p">,</span> <span class="n">c1</span><span class="p">)</span>
            <span class="n">newpart</span> <span class="o">=</span> <span class="s1">&#39;[&#39;</span> <span class="o">+</span> <span class="n">newpart1</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span> <span class="o">+</span> <span class="n">c</span>
            <span class="n">parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newpart</span><span class="p">)</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="n">regexor</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pattern</span>


<span class="n">begin</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;^(.*)&#39;</span>

<span class="n">vowel</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;[aeiouy]&#39;</span>
<span class="n">bvowel</span> <span class="o">=</span> <span class="n">bracket</span><span class="p">(</span><span class="n">vowel</span><span class="p">)</span>
<span class="n">call</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;[bcdfghjklmnpqrstvwxz]&#39;</span>
<span class="n">bcall</span> <span class="o">=</span> <span class="n">bracket</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
<span class="n">wb</span> <span class="o">=</span> <span class="s1">&#39;^&#39;</span>
<span class="n">callorwb</span> <span class="o">=</span> <span class="n">call</span> <span class="o">+</span> <span class="s1">&#39;|&#39;</span> <span class="o">+</span> <span class="n">wb</span>
<span class="n">bcallorwb</span> <span class="o">=</span> <span class="n">bracket</span><span class="p">(</span><span class="n">callorwb</span><span class="p">)</span>
<span class="n">doublevowel</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;aa|ee|oo|uu&#39;</span>
<span class="n">diphthong</span> <span class="o">=</span> <span class="s1">&#39;au|ei|eu|ie|ij|oe|ou|ui&#39;</span>
<span class="n">c1</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;[pfksg]&#39;</span>
<span class="n">bc1</span> <span class="o">=</span> <span class="n">bracket</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
<span class="n">ie</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;(ie)&#39;</span>
<span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;(s?)&#39;</span>
<span class="n">end</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$&#39;</span>
<span class="n">v4</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\4&#39;</span>
<span class="n">v3</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\3&#39;</span>
<span class="n">v2</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\2&#39;</span>
<span class="n">twovowels</span> <span class="o">=</span> <span class="n">doublevowel</span> <span class="o">+</span> <span class="s1">&#39;|&#39;</span> <span class="o">+</span> <span class="n">diphthong</span>
<span class="n">btwovowels</span> <span class="o">=</span> <span class="n">bracket</span><span class="p">(</span><span class="n">twovowels</span><span class="p">)</span>
<span class="n">bdiphthong</span> <span class="o">=</span> <span class="n">bracket</span><span class="p">(</span><span class="n">diphthong</span><span class="p">)</span>
<span class="n">cic1j</span> <span class="o">=</span> <span class="n">makecic1j</span><span class="p">()</span>
<span class="n">bcic1j</span> <span class="o">=</span> <span class="n">bracket</span><span class="p">(</span><span class="n">cic1j</span><span class="p">)</span>

<span class="c1">#: * **Pattern**  vvssie: words ending in two vowels, two identicsl consonants from [pfksg] plus *ie*, optionally followed by *s*</span>
<span class="c1">#: * **Replacement**: degeminate the consonants and replace *ie* by *je* and *tje*</span>
<span class="c1">#: * **Examples**  meissie -&gt; meisje; Keessie -&gt; keessie; feessie -&gt; feestje;  wijffie -&gt; wijfje, lieffie -&gt; liefje,</span>
<span class="c1"># boekkie -&gt; boekje;</span>
<span class="c1">#:</span>
<span class="n">vvssiepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">btwovowels</span> <span class="o">+</span> <span class="n">bc1</span> <span class="o">+</span> <span class="n">v3</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;ie&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>
<span class="n">vvssiere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">vvssiepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="c1"># vvssiereplace: degeminate the consonants and replace *ie* by *je*</span>
<span class="n">vvssiereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2\3je\4&#39;</span>
<span class="c1"># vvssiereplacet: degeminate the consonants and replce *ie* by *tje*</span>
<span class="n">vvssiereplacet</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2\3tje\4&#39;</span>

<span class="c1">#: * **Pattern** vvsie: the same as vvssie but now with a single consonant.</span>
<span class="c1">#: * **Replacement**: simply replace *Ã­e* by *je* and *tje*</span>
<span class="c1">#: * **Examples**: koopie -&gt; koopje, weekie -&gt; weekje, feesie -&gt; feestje, beesie -&gt; beestje</span>
<span class="c1">#:</span>
<span class="n">vvsiepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">btwovowels</span> <span class="o">+</span> <span class="n">bc1</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;ie&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>
<span class="n">vvsiere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">vvsiepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">vvsiereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2\3je\4&#39;</span>
<span class="n">vvsiereplacet</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2\3tje\4&#39;</span>


<span class="c1">#: * **Pattern** CVCiCiie : ending in consonant (C), single vowel (V), two identical consonants (CiCi) and *ie(s)*</span>
<span class="c1">#: * **Replacement** VCije: degeminate the consonants and replace *ie* by *je*</span>
<span class="c1">#: * **Examples**: bakkie -&gt; bakje ukkie -&gt; ukje</span>
<span class="c1">#:</span>
<span class="n">cvcicipattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">bcallorwb</span> <span class="o">+</span> <span class="n">bvowel</span> <span class="o">+</span> <span class="n">bc1</span> <span class="o">+</span> <span class="n">v4</span> <span class="o">+</span> <span class="n">ie</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>
<span class="n">cvcicire</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">cvcicipattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">cvcicireplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2\3\4je\6&#39;</span>
<span class="n">cvcicireplacet</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2\3\4tje\6&#39;</span>

<span class="c1">#: * **Pattern** DCie : Diphthong followed by a single consonant and *ie(s)*</span>
<span class="c1">#: * **Replacement**  V2Cje: simply replace *ie* by *je*</span>
<span class="c1">#: * **Examples**: buikie &gt; buikje wijfie -&gt; wijfje buisie _-&gt; buisje poepie -&gt; poepje</span>
<span class="c1">#:</span>
<span class="n">dciepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">bdiphthong</span> <span class="o">+</span> <span class="n">bc1</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;ie&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>
<span class="n">dciere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">dciepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">dciereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2\3je\4&#39;</span>

<span class="c1">#: * **Pattern** CiC1jie: two different consonants followed by *ie(s)*</span>
<span class="c1">#: * **Replacement** C1C2je: simply replace *ie* by *je*</span>
<span class="c1">#: * **Examples**:# bankie -&gt; bankje binkie -&gt; binkje bloempie -&gt; bloempje truckie -&gt; truckje mamsie -&gt;</span>
<span class="c1"># mamsje mensie -&gt; mensje</span>
<span class="n">cic1jiepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">bcic1j</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;ie&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>
<span class="n">cic1jiere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">cic1jiepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">cic1jiereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2je\3&#39;</span>


<span class="c1"># test</span>
<span class="c1"># testlist = [(&#39;bankie&#39;, &#39;bankje&#39;), (&#39;bloempie&#39;, &#39;bloempje&#39;), (&#39;truckie&#39;, &#39;truckje&#39;), (&#39;mensie&#39;, &#39;mensje&#39;)]</span>
<span class="c1"># localtest(cic1jiere, [cic1jre], testlist)</span>

<span class="c1">#: * **Pattern** chie: words ending in chie(s)</span>
<span class="c1">#: * **Replacement**: replace *ie* by *je* and by *tje*</span>
<span class="c1">#: * **Examples**: &#39;hachie&#39;, &#39;hachje&#39;), (&#39;vrachie&#39;, &#39;vrachtje&#39;),  (&#39;kuchie&#39;, &#39;kuchje&#39;)</span>
<span class="n">chiepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;chie&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>
<span class="n">chiere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">chiepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">chiereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1chje\2&#39;</span>
<span class="n">chiereplacet</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1chtje\2&#39;</span>

<span class="c1"># test</span>
<span class="c1"># testlist = [(&#39;hachie&#39;, &#39;hachje&#39;), (&#39;vrachie&#39;, &#39;vrachtje&#39;),  (&#39;kuchie&#39;, &#39;kuchje&#39;)]</span>
<span class="c1"># localtest(chiere, [chiereplace, chiereplacet], testlist)</span>


<span class="c1"># Cvssie messie -&gt; mesje; schoffie -&gt; schoftje; etc. niet voor effie -&gt; efje; actually not needed coverd by cvcicipattern</span>
<span class="n">cvssiepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">bcall</span> <span class="o">+</span> <span class="n">bvowel</span> <span class="o">+</span> <span class="n">bc1</span> <span class="o">+</span> <span class="n">v4</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;ie&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>
<span class="n">cvssiere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">cvssiepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">cvssiereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2\3\4je\5&#39;</span>
<span class="n">cvssiereplacet</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2\3\4tje\5&#39;</span>

<span class="c1"># test</span>
<span class="c1"># testlist = [(&#39;messie&#39;, &#39;mesje&#39;), (&#39;zakkie&#39;, &#39;zakje&#39;), (&#39;schriffie&#39;, &#39;schriftje&#39;)]</span>
<span class="c1"># localtest(cvssiere, [cvssiereplace, cvssiereplacet], testlist)</span>

<span class="c1">#: * **Pattern** vcie: vowel + consonant _ *ie*</span>
<span class="c1">#: * **Replacement**: duplicate the vowel, replace *ie* by *je*</span>
<span class="c1">#: * **Examples**: (&#39;slapie&#39;, &#39;slaapje&#39;), (&#39;rapie&#39;, &#39;raapje&#39;), (&#39;takie&#39;, &#39;taakje&#39;), (&#39;stafie&#39;, &#39;staafje&#39;), (&#39;magie&#39;,&#39;maagje&#39;), (&#39;vasie&#39;, &#39;vaasje&#39;)</span>
<span class="c1">#:</span>
<span class="n">vciepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">bvowel</span> <span class="o">+</span> <span class="n">bcall</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;ie&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>
<span class="n">vciere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">vciepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">vciereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2\2\3je\4&#39;</span>
<span class="c1"># test</span>
<span class="c1"># testlist = [(&#39;slapie&#39;, &#39;slaapje&#39;), (&#39;rapie&#39;, &#39;raapje&#39;), (&#39;takie&#39;, &#39;taakje&#39;), (&#39;stafie&#39;, &#39;staafje&#39;), (&#39;magie&#39;, &#39;maagje&#39;),</span>
<span class="c1">#            (&#39;vasie&#39;, &#39;vaasje&#39;)]</span>
<span class="c1"># localtest(vciere, [vciereplace], testlist)</span>

<span class="c1"># getbase regexes:</span>
<span class="c1">#: * **Pattern** ngetjepattern: words ending in *ngetje(s)*</span>
<span class="c1">#: * **Replacement**: replace *ngetje* by *ng* and srop *s* if present</span>
<span class="c1">#: * **Examples**: (&#39;tekeningetje&#39;,&#39;tekening&#39;), (&#39;tekeningetjes&#39;, &#39;tekening&#39;)</span>
<span class="c1">#:</span>
<span class="n">ngetjepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;ngetje&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>     <span class="c1"># tekeningetje</span>
<span class="n">ngetjere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">ngetjepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">ngetjereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1ng\2&#39;</span>

<span class="c1"># testlist = [(&#39;tekeningetje&#39;,&#39;tekening&#39;), (&#39;tekeningetjes&#39;, &#39;tekening]</span>
<span class="c1"># localtest(ngetjere, [ngetjereplace], testlist)</span>

<span class="c1">#: * **Pattern** cicietje: words ending in two identical consonants followed by *etje(s)*</span>
<span class="c1">#: * **Replacement**: keep only on consonant and drop etjes(s)</span>
<span class="c1">#: * **Examples**: (&#39;balletje&#39;,&#39;bal&#39;), (&#39;balletjes&#39;,&#39;bal&#39;)</span>
<span class="c1">#:</span>
<span class="n">cicietjepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">bcall</span> <span class="o">+</span> <span class="n">v2</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;etje&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>  <span class="c1"># balletje</span>
<span class="n">cicietjere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">cicietjepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">cicietjereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2&#39;</span>

<span class="c1"># testlist = [(&#39;balletje&#39;,&#39;bal&#39;), (&#39;balletjes&#39;,&#39;bal&#39;)]</span>
<span class="c1"># localtest(cicietjere, [cicietjereplace], testlist)</span>

<span class="c1">#: * **Pattern** cmpje: words ending in consonant plus *mpje(s)*</span>
<span class="c1">#: * **Replacement**: replace *mpje* by *m*, drop *s*</span>
<span class="c1">#: * **Examples**: (&#39;armpje&#39;, &#39;arm&#39;), (&#39;armpjes&#39;, &#39;arm&#39;), (&#39;darmpje&#39;, &#39;darm&#39;), (&#39;darmpjes&#39;, &#39;darm&#39;)</span>
<span class="c1">#:</span>
<span class="n">cmpjepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">bcall</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;mpje&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>  <span class="c1"># darmpje, armpje</span>
<span class="n">cmpjere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">cmpjepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">cmpjereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2m&#39;</span>

<span class="c1"># testlist = [(&#39;armpje&#39;, &#39;arm&#39;), (&#39;armpjes&#39;, &#39;arm&#39;), (&#39;darmpje&#39;, &#39;darm&#39;), (&#39;darmpjes&#39;, &#39;darm&#39;)]</span>
<span class="c1"># localtest(cmpjere, [cmpjereplace], testlist)</span>

<span class="c1">#: * **Pattern** vmpje: words ending in consonant + (two vowels or *e*) plus *mpje(s)*</span>
<span class="c1">#: * **Replacement**: replaces *mpje* by *m*, drop *s*</span>
<span class="c1">#: * **Examples**: (&#39;bloempje&#39;,&#39;bloem&#39;), (&#39;bezempje&#39;, &#39;bezem&#39;), (&#39;bloempjes&#39;, &#39;bloem&#39;), (&#39;bezempjes&#39;, &#39;bezem&#39;)</span>
<span class="c1">#:</span>
<span class="n">vmpjepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">bcall</span> <span class="o">+</span> <span class="n">bracket</span><span class="p">(</span><span class="n">regexor</span><span class="p">([</span><span class="n">btwovowels</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">]))</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;mpje&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>  <span class="c1"># bloempje, bezempje</span>
<span class="n">vmpjere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">vmpjepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">vmpjereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2\3m&#39;</span>

<span class="c1"># testlist = [(&#39;bloempje&#39;,&#39;bloem&#39;), (&#39;bezempje&#39;, &#39;bezem&#39;), (&#39;bloempjes&#39;, &#39;bloem&#39;), (&#39;bezempjes&#39;, &#39;bezem&#39;)]</span>
<span class="c1"># localtest(vmpjere, [vmpjereplace], testlist)</span>


<span class="c1">#: * **Pattern** nkjepattern: words ending in *nkje(s)*</span>
<span class="c1">#: * **Replacement**: replace *nkje* by *ng* and drop *s*</span>
<span class="c1">#: * **Examples**: (&#39;koninkje&#39;,&#39;koning&#39;), (&#39;koninkjes&#39;,&#39;koning&#39;)</span>
<span class="c1">#:</span>
<span class="n">nkjepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;nkje&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>   <span class="c1"># koninkje</span>
<span class="n">nkjere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">nkjepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">nkjereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1ng&#39;</span>

<span class="c1"># testlist = [(&#39;koninkje&#39;,&#39;koning&#39;), (&#39;koninkjes&#39;,&#39;koning&#39;)]</span>
<span class="c1"># localtest(nkjere, [nkjereplace], testlist)</span>


<span class="c1">#: * **Pattern** vivitje: words ending in two identical vowels followed by *tjes(s)*</span>
<span class="c1">#: * **Replacement**: keep one vowel, drop *tje*, drop *s*</span>
<span class="c1">#: * **Examples**: (&#39;laatje&#39;,&#39;la&#39;), (&#39;laatjes&#39;,&#39;la&#39;)</span>
<span class="c1">#:</span>
<span class="n">vivitjepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">bvowel</span> <span class="o">+</span> <span class="n">v2</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;tje&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>  <span class="c1"># laatje</span>
<span class="n">vivitjere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">vivitjepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">vivitjereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2&#39;</span>

<span class="c1"># testlist = [(&#39;laatje&#39;,&#39;la&#39;), (&#39;laatjes&#39;,&#39;la&#39;)]</span>
<span class="c1"># localtest(vivitjere, [vivitjereplace], testlist)</span>


<span class="c1">#: * **Pattern** vivjtje: words ending in a diphthong followed by *tje(s)*</span>
<span class="c1">#: * **Replacement**: drop *tje*, drop *s* if present</span>
<span class="c1">#: * **Examples**: (&#39;lelietje&#39;,&#39;lelie&#39;), (&#39;leitje&#39;, &#39;lei&#39;), (&#39;lelietjes&#39;,&#39;lelie&#39;), (&#39;leitjes&#39;, &#39;lei&#39;)</span>
<span class="c1">#:</span>
<span class="n">vivjtjepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="n">bdiphthong</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;tje&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>   <span class="c1"># lelietje, leitje</span>
<span class="n">vivjtjere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">vivjtjepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">vivjtjereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1\2&#39;</span>

<span class="c1"># testlist = [(&#39;lelietje&#39;,&#39;lelie&#39;), (&#39;leitje&#39;, &#39;lei&#39;), (&#39;lelietjes&#39;,&#39;lelie&#39;), (&#39;leitjes&#39;, &#39;lei&#39;)]</span>
<span class="c1"># localtest(vivjtjere, [vivjtjereplace], testlist)</span>


<span class="c1">#: * **Pattern** je:  words ending in *je(s)*</span>
<span class="c1">#: * **Replacement**: drop *je*, drop *s* if present</span>
<span class="c1">#: * **Examples**: (&#39;huisje&#39;,&#39;huis&#39;), (&#39;bakje&#39;, &#39;bak&#39;), (&#39;huisjes&#39;,&#39;huis&#39;), (&#39;bakjes&#39;, &#39;bak&#39;)</span>
<span class="c1">#:</span>
<span class="n">jepattern</span> <span class="o">=</span> <span class="n">begin</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;je&#39;</span> <span class="o">+</span> <span class="n">s</span> <span class="o">+</span> <span class="n">end</span>  <span class="c1"># huisje, bakje</span>
<span class="n">jere</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">jepattern</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
<span class="n">jereplace</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\1&#39;</span>

<span class="c1"># testlist = [(&#39;huisje&#39;,&#39;huis&#39;), (&#39;bakje&#39;, &#39;bak&#39;), (&#39;huisjes&#39;,&#39;huis&#39;), (&#39;bakjes&#39;, &#39;bak&#39;)]</span>
<span class="c1"># localtest(jere, [jereplace], testlist)</span>


<span class="n">voiceless</span> <span class="o">=</span> <span class="s1">&#39;pst&#39;</span>
<span class="n">voiced</span> <span class="o">=</span> <span class="s1">&#39;bzd&#39;</span>


<span class="k">def</span> <span class="nf">voicing</span><span class="p">(</span><span class="nb">str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    The function *voicing* replaces p by b, s by z and  t by d, for any other input string it returns the input string</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">theindex</span> <span class="o">=</span> <span class="n">voiceless</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="nb">str</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">theindex</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">voiced</span><span class="p">[</span><span class="n">theindex</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">str</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">getbaseinlexicon</span><span class="p">(</span><span class="n">dim</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    The function *getbaseinlexicon* a lemma that occurs in the lexicon for the form *dim*, or None if no such lemma</span>
<span class="sd">    is found.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">candidates</span> <span class="o">=</span> <span class="n">getbase</span><span class="p">(</span><span class="n">dim</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">candidate</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">lexicon</span><span class="o">.</span><span class="n">informlexicon</span><span class="p">(</span><span class="n">candidate</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">candidate</span>
            <span class="k">break</span>
    <span class="k">return</span> <span class="n">result</span>


<div class="viewcode-block" id="getbase"><a class="viewcode-back" href="../deviantlanguage.html#iedims.getbase">[docs]</a><span class="k">def</span> <span class="nf">getbase</span><span class="p">(</span><span class="n">dim</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    The function *getbase* computes a list of candidate lemmas for the input diminutive form (ending in *je*) *dim*.</span>

<span class="sd">    It makes use of various patterns and replacements:</span>

<span class="sd">    * .. autodata:: ngetjepattern</span>
<span class="sd">    * .. autodata:: cicietjepattern</span>
<span class="sd">    * .. autodata:: cmpjepattern</span>
<span class="sd">    * .. autodata:: vmpjepattern</span>
<span class="sd">    * .. autodata:: nkjepattern</span>
<span class="sd">    * .. autodata:: vivitjepattern</span>
<span class="sd">    * .. autodata:: vivjtjepattern</span>
<span class="sd">    * .. autodata:: jepattern</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">ngetjere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">dim</span><span class="p">):</span>
        <span class="n">newresult</span> <span class="o">=</span> <span class="n">ngetjere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">ngetjereplace</span><span class="p">,</span> <span class="n">dim</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newresult</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cicietjere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">dim</span><span class="p">):</span>
        <span class="n">newresult</span> <span class="o">=</span> <span class="n">cicietjere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">cicietjereplace</span><span class="p">,</span> <span class="n">dim</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newresult</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cmpjere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">dim</span><span class="p">):</span>
        <span class="n">newresult</span> <span class="o">=</span> <span class="n">cmpjere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">cmpjereplace</span><span class="p">,</span> <span class="n">dim</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newresult</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">vmpjere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">dim</span><span class="p">):</span>
        <span class="n">newresult</span> <span class="o">=</span> <span class="n">vmpjere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">vmpjereplace</span><span class="p">,</span> <span class="n">dim</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newresult</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">nkjere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">dim</span><span class="p">):</span>
        <span class="n">newresult</span> <span class="o">=</span> <span class="n">nkjere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">nkjereplace</span><span class="p">,</span> <span class="n">dim</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newresult</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">vivitjere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">dim</span><span class="p">):</span>
        <span class="n">newresult</span> <span class="o">=</span> <span class="n">vivitjere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">vivitjereplace</span><span class="p">,</span> <span class="n">dim</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newresult</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">vivjtjere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">dim</span><span class="p">):</span>
        <span class="n">newresult</span> <span class="o">=</span> <span class="n">vivjtjere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">vivjtjereplace</span><span class="p">,</span> <span class="n">dim</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newresult</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">jere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">dim</span><span class="p">):</span>
        <span class="n">newresult</span> <span class="o">=</span> <span class="n">jere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">jereplace</span><span class="p">,</span> <span class="n">dim</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newresult</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span></div>


<div class="viewcode-block" id="getjeforms"><a class="viewcode-back" href="../deviantlanguage.html#iedims.getjeforms">[docs]</a><span class="k">def</span> <span class="nf">getjeforms</span><span class="p">(</span><span class="n">ieform</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    The function *getjeforms* when applied to a string  returns a list of strings that are diminutives ending in</span>
<span class="sd">    *-je* of which the lemma occurs in the lexicon. If no such string is found, it returns the empty list.</span>

<span class="sd">    It crucially makes use of the functions *getjeformsnolex* and *getbase*</span>

<span class="sd">    .. autofunction:: iedims::getjeformsnolex</span>
<span class="sd">    .. autofunction:: iedims::getbase</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">results1</span> <span class="o">=</span> <span class="n">getjeformsnolex</span><span class="p">(</span><span class="n">ieform</span><span class="p">)</span>
    <span class="n">lemmas</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">candpairs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">result1</span> <span class="ow">in</span> <span class="n">results1</span><span class="p">:</span>
        <span class="n">lemmas</span> <span class="o">+=</span> <span class="n">getbase</span><span class="p">(</span><span class="n">result1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">lemma</span> <span class="ow">in</span> <span class="n">lemmas</span><span class="p">:</span>
            <span class="n">candpairs</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">result1</span><span class="p">,</span> <span class="n">lemma</span><span class="p">))</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">form</span><span class="p">,</span> <span class="n">lemma</span><span class="p">)</span> <span class="ow">in</span> <span class="n">candpairs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">lexicon</span><span class="o">.</span><span class="n">known_word</span><span class="p">(</span><span class="n">lemma</span><span class="p">):</span>
            <span class="c1"># result = &#39;[ @add_lex {} {} ]&#39;.format(ieform, result)</span>
            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">form</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span></div>


<div class="viewcode-block" id="getjeformsnolex"><a class="viewcode-back" href="../deviantlanguage.html#iedims.getjeformsnolex">[docs]</a><span class="k">def</span> <span class="nf">getjeformsnolex</span><span class="p">(</span><span class="n">ieform</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    The function getjeformsnolex when applied to a string *ieform* returns a list of candidate</span>
<span class="sd">    diminutive strings ending in *-je* corresponding to  *ieform*. If no such candidates are found, it returns the</span>
<span class="sd">    empty list.</span>

<span class="sd">    The function applies a range of relevant regular expressions for *ie*-diminutives, and, if a match is found,</span>
<span class="sd">    it applies one or more appropriate replacements.</span>

<span class="sd">    The relevant regular expressions are:</span>

<span class="sd">    .. autodata:: cvcicipattern</span>
<span class="sd">    .. autodata:: dciepattern</span>
<span class="sd">    .. autodata:: vvsiepattern</span>
<span class="sd">    .. autodata:: vvssiepattern</span>
<span class="sd">    .. autodata:: vciepattern</span>
<span class="sd">    .. autodata:: chiepattern</span>
<span class="sd">    .. autodata:: cic1jiepattern</span>

<span class="sd">    For all patterns except for the last two mentioned also a voiced replacement is carried out.</span>



<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">cvcicire</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ieform</span><span class="p">):</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">cvcicire</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ieform</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">cvcicire</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">cvcicireplace</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">cvcicire</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">cvcicireplacet</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">bdg</span> <span class="o">=</span> <span class="n">voicing</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">cvcicire</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\1\2\3&#39;</span> <span class="o">+</span> <span class="n">bdg</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;je\6&#39;</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>  <span class="c1"># cluppie -&gt; clubje, fessie -&gt; fezje</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">dciere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ieform</span><span class="p">):</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">dciere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ieform</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">dciere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">dciereplace</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">bdg</span> <span class="o">=</span> <span class="n">voicing</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">dciere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\1\2&#39;</span> <span class="o">+</span> <span class="n">bdg</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;je\4&#39;</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>   <span class="c1"># Huipie -&gt; Huibje</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">vvssiere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ieform</span><span class="p">):</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">vvssiere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ieform</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">vvssiere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">vvssiereplace</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">vvssiere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">vvssiereplacet</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">bdg</span> <span class="o">=</span> <span class="n">voicing</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">vvssiere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\1\2&#39;</span> <span class="o">+</span> <span class="n">bdg</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;je\4&#39;</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>  <span class="c1"># Huuppie -&gt; Huubje</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">vvsiere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ieform</span><span class="p">):</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">vvsiere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ieform</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">vvsiere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">vvsiereplace</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">vvsiere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">vvsiereplacet</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">bdg</span> <span class="o">=</span> <span class="n">voicing</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">vvsiere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\1\2&#39;</span> <span class="o">+</span> <span class="n">bdg</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;je\4&#39;</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>  <span class="c1"># Huupie -&gt; Huubje</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">vciere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ieform</span><span class="p">):</span>  <span class="c1"># must crucially occur after the previous two (otherwise beesie -&gt; beeestje)</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">vciere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ieform</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">vciere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">vciereplace</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">bdg</span> <span class="o">=</span> <span class="n">voicing</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">vciere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\1\2\2&#39;</span> <span class="o">+</span> <span class="n">bdg</span> <span class="o">+</span> <span class="sa">r</span><span class="s1">&#39;je\4&#39;</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>   <span class="c1"># Hupie -&gt; Huubje</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">chiere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ieform</span><span class="p">):</span>
        <span class="c1"># m = chiere.match(ieform)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">chiere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">chiereplace</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">chiere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">chiereplacet</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">cic1jiere</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ieform</span><span class="p">):</span>
        <span class="c1"># m = cic1jiere.match(ieform)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">cic1jiere</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">cic1jiereplace</span><span class="p">,</span> <span class="n">ieform</span><span class="p">)</span>
        <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">results</span></div>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SASTA  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">iedims</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Jan Odijk, Jelte van Boheemen, Martin Kroon.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
  </body>
</html>